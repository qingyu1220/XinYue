<!DOCTYPE html>
<html ng-app="myapp">

<head>
    <title></title>
    <script type="text/javascript" src="../bulid/js/angular.js"></script>
    <style type="text/css">
    ul li {
        display: inline-block;
        padding: 20px;
        background: gray;
    }

    .active {
        background: red;
    }
    </style>
</head>

<body ng-controller="aaa">
    <ul>
        <li toggle-class="active" ng-repeat="color in colors" >{{color.name}}</li>
    </ul>
</body>
<script type="text/javascript">
var m1 = angular.module('myapp', []);
m1.controller('aaa', ["$scope",function($scope) {
    $scope.colors = [{
        'id': '1',
        'name': 'red'
    }, {
        'id': '2',
        'name': 'green'
    }, {
        'id': '3',
        'name': 'blue'
    }];
}]);
m1.directive('toggleClass', function() {
    return {
        restrict: 'A',
        scope: {
            toggleClass: '@'
        },
        link: function($scope, $element) {
            $element.on('click', function() {
                $element.parent().children().removeClass("active");
                $element.toggleClass($scope.toggleClass);
            });
        }
    };
});
</script>

</html>
